var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in c||(c[d]={});c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof d?a:new d(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var e=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){e(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};d.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};d.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};d.prototype.reject_=function(a){this.settle_(2,a)};d.prototype.fulfill_=function(a){this.settle_(1,a)};d.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var f=new b;d.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};d.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};d.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(m){g(m)}}:b}var e,g,f=new d(function(a,b){e=a;g=b});this.callWhenSettled_(c(a,e),c(b,g));return f};
d.prototype["catch"]=function(a){return this.then(void 0,a)};d.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};d.resolve=c;d.reject=function(a){return new d(function(b,c){c(a)})};d.race=function(a){return new d(function(b,d){for(var e=$jscomp.makeIterator(a),g=e.next();!g.done;g=
e.next())c(g.value).callWhenSettled_(b,d)})};d.all=function(a){var b=$jscomp.makeIterator(a),e=b.next();return e.done?c([]):new d(function(a,d){function g(b){return function(c){f[b]=c;h--;0==h&&a(f)}}var f=[],h=0;do f.push(void 0),h++,c(e.value).callWhenSettled_(g(f.length-1),d),e=b.next();while(!e.done)})};return d},"es6","es3");
$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(b){return Promise.resolve(a()).then(function(){return b})},function(b){return Promise.resolve(a()).then(function(){throw b;})})}},"es9","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(a){this.abruptCompletion_={"return":a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){var c=$jscomp.makeIterator(a),e=c.next();$jscomp.generator.ensureIteratorResultIsObject_(e);if(e.done)this.yieldResult=e.value,this.nextAddress=b;else return this.yieldAllIterator_=c,this.yield(e.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){var c=this.finallyContexts_.splice(b||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_["return"]);this.context_["return"](a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var e=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(e);if(!e.done)return this.context_.stop_(),e;var d=e.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this["throw"]=function(b){return a.throw_(b)};this["return"]=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){var c=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(c,a.prototype);return c};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function c(b){return a["throw"](b)}return new Promise(function(e,d){function f(a){a.done?e(a.value):Promise.resolve(a.value).then(b,c).then(f,d)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
function URLsEspecificas(){var a=new URL(window.location.href),b=a.searchParams.get("mode");"clean_modal"==b?(a=a.searchParams.get("post"))&&Modals.modalLimpa.abrirPost(a):"poema"==b?(a=a.searchParams.get("id"))&&Modals.modalVisualizarPoema.abrir(a):"criar"==b&&(a=a.searchParams.get("id"),Modals.modalcriarEEditarPoema.abrir(a))}
var Autentica\u00e7\u00e3o={iniciar:function(){var a=this;firebase.auth().onAuthStateChanged(function(b){return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){switch(c.nextAddress){case 1:if(!b||1==a.deletandoConta){c.jumpTo(2);break}Pagina.mensagem("Seja Bem Vindo "+b.displayName+" "+String.fromCodePoint(128515));return c.yield(GerenciadorDePoemas.iniciar(),3);case 3:return c.yield(Telas.lerConfigura\u00e7\u00f5esDeLayoutDoUsuario(),4);case 4:return Telas.atualizarLista("lista-de-poemas"),
Pagina.elementos.contadorDePoemas(),c.yield(Pagina.configura\u00e7\u00f5es.modoEscuro.lerConfigura\u00e7\u00e3oDoUsu\u00e1rio(),5);case 5:return c.setCatchFinallyBlocks(6),c.yield(Notificacoes.iniciar(),8);case 8:c.leaveTryBlock(7);break;case 6:c.enterCatchBlock();case 7:URLsEspecificas();case 2:Pagina.determinarTelaDeAcordoComAAutenti\u00e7\u00e3o(b),c.jumpToEnd()}})})},entrar:function(){var a=new firebase.auth.FacebookAuthProvider;firebase.auth().signInWithRedirect(a)},deletar:function(){firebase.auth().currentUser["delete"]().then(function(){$(".sidenav").sidenav("close");
Pagina.mensagem("Volte Sempre... tchau "+String.fromCodePoint(128075)+String.fromCodePoint(128075));Pagina.temaEscuro.desativar();document.cookie=""})["catch"](function(a){"auth/requires-recent-login"==a.code&&(this.deleteProcess=!0,Pagina.mensagem("Voce vai ter que entrar no face novamente"),a=new firebase.auth.FacebookAuthProvider,firebase.auth().signInWithPopup(a).then(function(a){a=a.credential;firebase.auth().currentUser.reauthenticateWithCredential(a).then(function(){firebase.auth().currentUser["delete"]();
$(".sidenav").sidenav("close");Pagina.mensagem("Volte Sempre... tchau "+String.fromCodePoint(128075)+String.fromCodePoint(128075));Pagina.temaEscuro.desativar();document.cookie=""})}))})},sair:function(){$(".sidenav").sidenav("close");Pagina.mensagem("Saindo... tchau "+String.fromCodePoint(128075)+String.fromCodePoint(128075));Pagina.configura\u00e7\u00f5es.modoEscuro.desativar();firebase.auth().signOut()}};var Modals={modalcriarEEditarPoema:{abrir:function(a){null==a?this.novoPoema():this.abrirPoema(a);$("#poema-modal").modal("close");$("#criar-modal").modal("open")},novoPoema:function(){this.cor="white";this.categoriaId=null;this.definirInputs(null);this.definirCor();this.definirCategoria();this.definirBot\u00f5es(null)},abrirPoema:function(a){var b=GerenciadorDePoemas.obterPoema(a);this.cor=b.cor;this.categoriaId=b.categoriaId;this.definirInputs({titulo:b.titulo,conteudo:b.linhas.join("\n")});this.definirCategoria();
this.definirCor();this.definirBot\u00f5es(a)},definirInputs:function(a){a?($("#criar-modal #editar-titulo-poema").val(a.titulo),$("#criar-modal #editar-conteudo-poema").val(a.conteudo)):$("#criar-modal #editar-titulo-poema , #criar-modal #editar-conteudo-poema").val(null);Pagina.elementos.textFieldETextArea.atualizar()},"definirBot\u00f5es":function(a,b){$("#criar-modal #cor-botao").attr("onclick","Modals.modalCor.abrir(null)");$("#criar-modal #categoria-botao").attr("onclick","Modals.modalsDeCategoria.modalSelecionar.abrir(null)");
$("#criar-modal form").attr("action","javascript:Modals.modalcriarEEditarPoema.salvarPoema('"+a+"')")},definirCategoria:function(a){a?this.categoriaId=a:a=this.categoriaId;a?(a=GerenciadorDePoemas.categorias[a],$("#criar-modal #categoria-botao span")[0].innerHTML=a):$("#criar-modal #categoria-botao span")[0].innerHTML=""},definirCor:function(a){a&&(this.cor=a);$("#criar-modal #cor-botao span").attr("class","right "+this.cor+" transparent-text circle");$("#cor-modal").modal("close")},salvarPoema:function(a){var b=
this,c,e,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){if(1==f.nextAddress)return $("#criar-modal #salvar").prop("disabled",!0),"null"==a&&(a=null),c=$("#criar-modal #editar-titulo-poema").val(),e=$("#criar-modal #editar-conteudo-poema").val().split("\n"),d=b.cor,f.yield(GerenciadorDePoemas.salvarPoema(a,c,e,d,b.categoriaId),2);Telas.atualizarTelas();$("#criar-modal #salvar").prop("disabled",!1);$("#criar-modal").modal("close");Pagina.elementos.contadorDePoemas();f.jumpToEnd()})},
colarDaAreaDeTransferencia:function(){Cookies.get("colar")||(Cookies.set("colar",!0),Modals.modalLimpa.abrirPost("area-de-transferencia"));navigator.clipboard.readText().then(function(a){a=a.split("\n");var b=null,c=null;1==a.length?b=a[0]:""==a[1]&&""!=a[0]?(b=a[0],c=a.slice(2,a.lengh).join("\n")):c=a.join("\n");b&&$("#criar-modal #editar-titulo-poema").val(b);c&&$("#criar-modal #editar-conteudo-poema").val(c);Pagina.elementos.textFieldETextArea.atualizar()})["catch"](function(a){"Read permission denied."==
a.message?Pagina.mensagem("Permis\u0101o da area de transfer\u00eancia bloqueada","Modals.modalLimpa.abrirPost('area-de-transferencia-bloqueada')"):Pagina.mensagem("Erro desconhecido")})}},modalVisualizarPoema:{abrir:function(a){var b=GerenciadorDePoemas.obterPoema(a);this.definirTituloEConteudo(b.titulo,b.linhas);this.definirBotao(a);this.definirCor(b.cor);this.definirCategoria(b.categoriaId);$("#poema-modal").modal("open")},definirCategoria:function(a){a?(a=GerenciadorDePoemas.categorias[a],$("#poema-modal #categoria-botao span")[0].innerHTML=
a):$("#poema-modal #categoria-botao span")[0].innerHTML=""},"copiarPara\u00c1reaDeTransfer\u00eancia":function(a){a=GerenciadorDePoemas.obterPoema(a);a=a.titulo+"\n\n"+a.linhas.join("\n");navigator.clipboard.writeText(a).then(function(){Pagina.mensagem("Copiado")})["catch"](function(a){"Read permission denied."==a.message?Pagina.mensagem("Permis\u0101o da area de transfer\u00eancia bloqueada","Modals.modalLimpa.abrirPost('area-de-transferencia-bloqueada')"):Pagina.mensagem("Erro desconhecido")})},
definirCor:function(a){var b="white";a||(a="white");if("white"==a||"yellow"==a||"amber"==a)b="black";$("#poema-modal").attr("class","modal "+a+" "+b+"-text");$("#poema-modal ul").attr("class",a+" dropdown-content");$("#poema-modal ul li").attr("class",""+a);$("#poema-modal ul li a").attr("class",a+" waves-effect");$("#poema-modal .modal-footer").attr("class","modal-footer right-align "+a);$("#poema-modal .modal-footer a").removeClass("white-text");$("#poema-modal .modal-footer a").removeClass("black-text");
$("#poema-modal .modal-footer a").addClass(b+"-text")},definirTituloEConteudo:function(a,b){$("#poema-modal h5")[0].innerHTML=a;var c=b.join("<br>");$("#poema-modal p")[0].innerHTML=c},definirBotao:function(a){$("#poema-modal #copy").attr("onclick","Modals.modalVisualizarPoema.copiarPara\u00c1reaDeTransfer\u00eancia('"+a+"')");$("#poema-modal #cor-botao").attr("onclick","Modals.modalCor.abrir('"+a+"')");$("#poema-modal #categoria-botao").attr("onclick","Modals.modalsDeCategoria.modalSelecionar.abrir('"+
a+"')");$("#poema-modal #delete-botao").attr("onclick","Modals.modaldeletarPoema.abrir('"+a+"')");$("#poema-modal #compatilhar-botao").attr("onclick","Modals.modalDeCompatilhamento.abrir('"+a+"')");$("#poema-modal #editar-botao").attr("onclick","Modals.modalcriarEEditarPoema.abrir('"+a+"')")}},modaldeletarPoema:{abrir:function(a){$("#deletar-modal #deletar").attr("onclick","Modals.modaldeletarPoema.deletar('"+a+"')");$("#deletar-modal").modal("open")},deletar:function(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){if(1==
b.nextAddress)return $("#deletar-modal #salvar").prop("disabled",!0),b.yield(GerenciadorDePoemas.deletarPoema(a),2);Telas.atualizarTelas();$("#deletar-modal #salvar").prop("disabled",!1);$("#deletar-modal,#poema-modal").modal("close");$("#qtd_poemas")[0].innerHTML=GerenciadorDePoemas.poemas.length;b.jumpToEnd()})}},modalCor:{abrir:function(a){this.definirClickEmCoresDaPaleta(a);$("#cor-modal").modal("open")},definirClickEmCoresDaPaleta:function(a){$("#cor-modal a").map(function(b){var c=$("#cor-modal a")[b].classList[1];
null!=a?$($("#cor-modal a")[b]).attr("onclick",'Modals.modalCor.alterarCorDoPoema("'+a+'","'+c+'")'):$($("#cor-modal a")[b]).attr("onclick",'Modals.modalcriarEEditarPoema.definirCor("'+c+'")')})},alterarCorDoPoema:function(a,b){var c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return c=GerenciadorDePoemas.obterPoema(a),e.yield(GerenciadorDePoemas.salvarPoema(a,c.titulo,c.linhas,b,c.categoriaId),2);Modals.modalVisualizarPoema.definirCor(b);Telas.atualizarTelas();
$("#cor-modal").modal("close");e.jumpToEnd()})}},modalsDeCategoria:{modalSelecionar:{abrir:function(a){this.idDoPoema=a;this.atualizarSelect();$("#categoria-modal").modal("open")},atualizarSelect:function(){var a='<option value="" disabled selected>Selecione um:</option>'+Object.keys(GerenciadorDePoemas.categorias).map(function(a){return'<option value="'+a+'">'+GerenciadorDePoemas.categorias[a]+"</option>"}).join("");$("select")[0].innerHTML=a},categoriaSelecionada:function(){var a,b,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==
e.nextAddress){a=$("select").val();b=Modals.modalsDeCategoria.modalSelecionar.idDoPoema;if(!b)return Modals.modalcriarEEditarPoema.definirCategoria(a),e.jumpTo(2);c=GerenciadorDePoemas.obterPoema(b);return e.yield(GerenciadorDePoemas.salvarPoema(b,c.titulo,c.linhas,c.cor,a),3)}2!=e.nextAddress&&Modals.modalVisualizarPoema.definirCategoria(a);Telas.atualizarTelas();$("#categoria-modal").modal("close");e.jumpToEnd()})}},modalCriar:{abrir:function(a){this.definirInputEBotao(a);$("#criar-categoria-modal").modal("open")},
definirInputEBotao:function(a){a?$("#criar-categoria-modal #nome-categoria").val(GerenciadorDePoemas.categorias[a]):$("#criar-categoria-modal #nome-categoria").val(null);Pagina.elementos.textFieldETextArea.atualizar();$("#criar-categoria-modal form").attr("action","javascript:Modals.modalsDeCategoria.modalCriar.salvarCategoria('"+a+"')")},salvarCategoria:function(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return $("#criar-categoria-modal #salvar").prop("disabled",
!0),"null"==a&&(a=null),b=$("#criar-categoria-modal #nome-categoria").val(),c.yield(GerenciadorDePoemas.criarCategoria(a,b),2);Modals.modalsDeCategoria.modalSelecionar.atualizarSelect();Telas.atualizarTelas();$("#criar-categoria-modal #salvar").prop("disabled",!1);$("#criar-categoria-modal").modal("close");c.jumpToEnd()})}}},modalLimpa:{abrir:function(a){(a.titulo||a.conteudo)&&this.definirConteudo(a.titulo,a.conteudo);this.definirFooter(a.footer);$("#clean-modal").modal("open")},abrirPost:function(a){var b=
this,c,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return Pagina.mensagem("Arguarde um pouco"),d.yield(GerenciadorDePoemas.db.doc("/posts/"+a).get(),2);c=d.yieldResult;c.exists?(e={},e.titulo=c.data().titulo,e.conteudo=c.data().html,b.abrir(e)):Pagina.mensagem("Post n\u0101o encontrado");d.jumpToEnd()})},definirConteudo:function(a,b){$("#clean-modal .modal-content h5")[0].innerHTML=a;$("#clean-modal .modal-content #conteudo")[0].innerHTML=b},definirFooter:function(a){a?
$("#clean-modal .modal-footer")[0].innerHTML=a:$("#clean-modal .modal-footer")[0].innerHTML='<a class="btn waves-effect green modal-close">Cancelar</a>'}},"modalDeVisualiza\u00e7\u00e3o":{abrir:function(){switch(Telas.tamanhoDosElementos){case "s6 m6":$("#radio1").prop("checked",!1);$("#radio2").prop("checked",!0);break;case "s12 m6":$("#radio1").prop("checked",!0),$("#radio2").prop("checked",!1)}"d-none"==Telas.displayDoTexto?$("#previa").prop("checked",!1):$("#previa").prop("checked",!0);$(".sidenav")[0].M_Sidenav.isOpen&&
$(".sidenav").sidenav("close");$("#visualizacao-modal").modal("open")},"salvarConfigura\u00e7\u00f5es":function(){$("#visualizacao-modal #salvar").prop("disabled",!0);$("#radio1").prop("checked")&&(Telas.tamanhoDosElementos="s12 m6");$("#radio2").prop("checked")&&(Telas.tamanhoDosElementos="s6 m6");$("#previa").prop("checked")?Telas.displayDoTexto="":Telas.displayDoTexto="d-none";Telas.atualizarTelas();Telas.salvarConfigura\u00e7\u00f5esDeLayoutDoUsuario();$("#visualizacao-modal #salvar").prop("disabled",
!1);$("#visualizacao-modal").modal("close")}},modalDeCompatilhamento:{abrir:function(a){this.idDoPoema=a;$("#compatilhar-modal").modal("open")},compatilharComWhatsapp:function(){var a=GerenciadorDePoemas.obterPoema(this.idDoPoema);a="*"+a.titulo+"*\n\n"+a.linhas.join("\n");a="https://api.whatsapp.com/send?text="+encodeURIComponent(a);window.open(a,"_blank");$("#compatilhar-modal").modal("close")},compatilharComTwitter:function(){var a=GerenciadorDePoemas.obterPoema(this.idDoPoema);a=a.titulo+"\n\n"+
a.linhas.join("\n");a="https://twitter.com/intent/tweet?text="+encodeURIComponent(a);window.open(a,"_blank");$("#compatilhar-modal").modal("close")},gerarWord:function(){var a=GerenciadorDePoemas.obterPoema(this.idDoPoema),b=JSON.stringify(a.linhas);window.open("word?titulo="+a.titulo+"&autor="+firebase.auth().currentUser.displayName+"&linhas="+b,"_blank");$("#compatilhar-modal").modal("close")},webShare:function(){var a=GerenciadorDePoemas.obterPoema(this.idDoPoema),b=a.titulo+"\n\n"+a.linhas.join("\n");
try{navigator.share({title:a.titulo,text:b})}catch(c){Pagina.mensagem("Erro ao Compatilhar")}$("#compatilhar-modal").modal("close")}}};var Notificacoes={iniciar:function(){var a=this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){switch(c.nextAddress){case 1:switch(Notification.permission){case "default":a.checkBox(!1);break;case "denied":a.checkBox(!1);break;case "granted":return c.jumpTo(2)}c.jumpTo(0);break;case 2:return c.yield(a.obterToken(),4);case 4:return b=c.yieldResult,c.yield(a.compararToken(b),5);case 5:c.yieldResult?a.checkBox(!0):a.checkBox(!1),c.jumpTo(0)}})},obterToken:function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){return 1==
a.nextAddress?a.yield(firebase.messaging().getToken().then(function(a){return a}),2):a["return"](a.yieldResult)})},compararToken:function(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return c.yield(GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).get(),2);b=c.yieldResult.data().fcmToken;"undefined"==typeof b&&(b=[]);return-1==b.indexOf(a)?c["return"](!1):c["return"](!0)})},checkBox:function(a){$("#notification").prop("checked",
a)},desativar:function(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return c.yield(GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).get(),2);b=c.yieldResult.data().fcmToken;b.splice(b.indexOf(a));GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).update({fcmToken:b});c.jumpToEnd()})},enviarToken:function(a){void 0!=a&&GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).get().then(function(b){b.exists?
((b=b.data().fcmToken)?-1==b.indexOf(a)&&b.push(a):b=[a],GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).update({fcmToken:b})):GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).set({fcmToken:[a]})})},checkBoxChange:function(){var a=this,b,c,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){switch(d.nextAddress){case 1:if(b=$("#notification").prop("checked")){switch(Notification.permission){case "default":return d.jumpTo(6);case "denied":Pagina.mensagem("A permiss\u00e3o de notifica\u00e7\u00f5es est\u00e1 bloqueada",
"Modals.modalLimpa.abrirPost('permission-bloqued')");a.checkBox(!1);break;case "granted":return d.jumpTo(7)}d.jumpTo(0);break}return d.yield(a.obterToken(),4);case 4:return c=d.yieldResult,d.yield(a.desativar(c),5);case 5:Pagina.mensagem("Notifica\u00e7\u00f5es Desativadas");d.jumpTo(0);break;case 6:return d.setCatchFinallyBlocks(9),d.yield(a.requestPermission(),11);case 11:return d.yield(a.obterToken(),12);case 12:return c=d.yieldResult,d.yield(a.enviarToken(c),13);case 13:Pagina.mensagem("Notifica\u00e7\u00f5es ativadas");
d.leaveTryBlock(10);break;case 9:e=d.enterCatchBlock(),"messaging/permission-blocked"==e.message&&Pagina.mensagem("Voc\u00ea negou as notifica\u00e7\u00f5es",function(){Modals.modalLimpa.abrirPost("permission-bloqued")}),a.checkBox(!1);case 10:d.jumpTo(0);break;case 7:return d.yield(a.obterToken(),14);case 14:return c=d.yieldResult,d.yield(a.enviarToken(c),15);case 15:Pagina.mensagem("Notifica\u00e7\u00f5es ativadas"),d.jumpTo(0)}})},requestPermission:function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){return 1==
a.nextAddress?a.yield(Notification.requestPermission()["catch"](function(a){throw Error(a.code);}),2):a["return"](a.yieldResult)})}};var Pagina={iniciar:function(){this.elementos.centralizarSpinner();this.configura\u00e7\u00f5es.modoEscuro.lerConfigura\u00e7\u00e3oDosCookies();M.AutoInit();$(".dropdown-trigger").dropdown({hover:!1,constrainWidth:!1});$("#criar-modal,#deletar-modal").modal({dismissible:!1});this.elementos.textFieldETextArea.preparar();this.elementos.prepararSelect();this.elementos.checkBoxPreparar();this.elementos.anima\u00e7\u00e3oDoLogo();Autentica\u00e7\u00e3o.iniciar()},elementos:{centralizarSpinner:function(){var a=
($(document).height()-$(".nav-wrapper").height()-$(".preloader-wrapper").height())/2;$(".preloader-wrapper").css("margin-top",a);a=($("body").width()-$(".preloader-wrapper").width())/2;$(".preloader-wrapper").css("left",a);window.addEventListener("resize",this.centralizarSpinner,!1)},textFieldETextArea:{preparar:function(){$("#pesquisar").on("keyup",function(a){Telas.telaDePesquisa.pesquisar()})},atualizar:function(){M.updateTextFields();M.textareaAutoResize($("#editar-conteudo-poema"))}},"anima\u00e7\u00e3oDoLogo":function(){setTimeout(function(){$("#autoHide").animate({opacity:0},
{duration:200,complete:function(){$("#autoHide").hide({duration:1E3})}})},2E3)},prepararSelect:function(){$("select").on("change",Modals.modalsDeCategoria.modalSelecionar.categoriaSelecionada)},contadorDePoemas:function(){$("#qtd_poemas")[0].innerHTML=GerenciadorDePoemas.poemas.length},checkBoxPreparar:function(){$("#tema").click(function(){Pagina.configura\u00e7\u00f5es.modoEscuro.alterarTema($("#tema").prop("checked"))});$("#notification").click(function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){return"undefined"==
typeof Notification?(Notificacoes.checkBox(!1),Pagina.mensagem("Seu Navegador n\u00e3o suporta notifica\u00e7\u00f5es"),a.jumpTo(0)):a.yield(Notificacoes.checkBoxChange(),0)})})},animateCSS:function(a,b,c){function e(){d.classList.remove("animated",b);d.removeEventListener("animationend",e);"function"===typeof c&&c()}var d=document.querySelector(a);d.classList.add("animated","faster",b);d.addEventListener("animationend",e)}},mensagem:function(a,b){var c=b?"<span>"+a+'</span><button class=" red-text btn-flat" onclick="'+
b+'">Ajuda</button>':a;M.Toast.dismissAll();M.toast({html:c,displayLength:1500})},"determinarTelaDeAcordoComAAutenti\u00e7\u00e3o":function(a){a?(a.photoURL&&$(".card-img img").attr("src",a.photoURL+"?type=large"),$("#user_name")[0].innerHTML=a.displayName,$(".logado").show(),Telas.trocar(null,"#Tela_Painel")):($(".card-img img").attr("src",""),$("#user_name")[0].innerHTML="Seja Bem-vindo",$(".logado").hide(),Telas.trocar(null,"#Tela_Home"))},"configura\u00e7\u00f5es":{modoEscuro:{elementosDeTextoASeremAplicados:".sem-poemas;#Tela_Busca #apresentacao;.input-field input;.sidenav;#criar-modal;#deletar-modal;textarea;#cor-modal;#more2 a;#criar-modal .modal-footer .btn-flat;#categoria-modal h5;#Tela_Categorias ul li;select;#criar-categoria-modal;#clean-modal;#clean-modal .modal-content;#visualizacao-modal;#visualizacao-modal .modal-footer;#compatilhar-modal".split(";"),
elementosDeFundoASeremAplicados:"body;.sidenav;.sidenav .card;.sidenav .collapsible .collapsible-header;#criar-modal;#criar-modal .modal-footer;#deletar-modal;#deletar-modal .modal-footer;#cor-modal;#more2;#categoria-modal;#Tela_Categorias ul;#Tela_Categorias ul li;select;#criar-categoria-modal;#criar-categoria-modal .modal-footer;#clean-modal;#clean-modal .modal-footer;#visualizacao-modal;#visualizacao-modal .modal-footer;#compatilhar-modal".split(";"),"lerConfigura\u00e7\u00e3oDosCookies":function(){"true"==
Cookies.get("modoEscuro")?this.ativar():this.desativar()},"lerConfigura\u00e7\u00e3oDoUsu\u00e1rio":function(){var a=this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return c.yield(GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).get(),2);b=c.yieldResult;b.exists?b.data().temaEscuro?a.ativar():a.desativar():firebase.firestore().doc("usuarios/"+firebase.auth().currentUser.uid).set({temaEscuro:a.ativado});c.jumpToEnd()})},alterarTema:function(a){var b=
this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){Pagina.mensagem("Alterando Tema");a?b.ativar():b.desativar();firebase.firestore().doc("usuarios/"+firebase.auth().currentUser.uid).get().then(function(a){a.exists?firebase.firestore().doc("usuarios/"+firebase.auth().currentUser.uid).update({temaEscuro:b.ativado}):firebase.firestore().doc("usuarios/"+firebase.auth().currentUser.uid).set({temaEscuro:b.ativado})});c.jumpToEnd()})},ativar:function(){$("#tema").prop("checked",!0);Cookies.set("modoEscuro",
!0);this.ativado=!0;this.corDeTexto="white";$(this.elementosDeFundoASeremAplicados.join(",")).addClass("grey darken-4");$(this.elementosDeTextoASeremAplicados.join(",")).addClass("white-text");Telas.atualizarTelas()},desativar:function(){$("#tema").prop("checked",!1);Cookies.set("modoEscuro",!1);this.ativado=!1;this.corDeTexto="black";$(this.elementosDeFundoASeremAplicados.join(",")).removeClass("grey darken-4");$(this.elementosDeTextoASeremAplicados.join(",")).removeClass("white-text");Telas.atualizarTelas()}}}};var GerenciadorDePoemas={iniciar:function(){var a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){return 1==b.nextAddress?(navigator.onLine||Pagina.mensagem("Off-Line detectado aguarde..."),b.yield(a.carregarFirestore(),2)):b.yield(a.lerDadosDaDatabase(),0)})},carregarFirestore:function(){var a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){if(1==b.nextAddress)return b.yield(firebase.firestore().enablePersistence({synchronizeTabs:!0}),2);a.db=firebase.firestore();
b.jumpToEnd()})},obterPoema:function(a){return this.poemas.find(function(b,c){if(b.id==a)return b.posicao=c,b})},pesquisarPoema:function(a,b){function c(a,b){if("string"==typeof a){var c=a.toLowerCase(),d=b.toLowerCase();return-1!=c.indexOf(d)?!0:!1}return!1}var e=this;b||(b=["titulo"]);return this.poemas.map(function(d,e){if(b.map(function(b){return"conteudo"!=b?c(d[b],a):d.linhas.map(function(b){return c(b,a)}).includes(!0)?!0:!1}).includes(!0))return e}).filter(function(a){return null!=a}).map(function(a){var b=
e.poemas[a];b.posicao=a;return b})},salvarPoema:function(a,b,c,e,d,f){var g=this,h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){h=f?function(a){}:function(a){Pagina.mensagem(a)};a?(h("Atualizando poema"),g.db.collection("usuarios/"+firebase.auth().currentUser.uid+"/poemas").doc(a).set({titulo:b,linhas:c,cor:e,categoriaId:d}).then(function(){h("Poema atualizado")})["catch"](function(){h("Erro ao atualizar poema")})):(h("Criando poema"),g.db.collection("usuarios/"+firebase.auth().currentUser.uid+
"/poemas").add({titulo:b,linhas:c,cor:e,categoriaId:d}).then(function(){h("Poema criado")})["catch"](function(){h("Erro ao criar poema")}));return k.yield(g.lerDadosDaDatabase(),0)})},deletarPoema:function(a){var b=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){Pagina.mensagem("Aguarde deletando poema");b.db.doc("usuarios/"+firebase.auth().currentUser.uid+"/poemas/"+a)["delete"]().then(function(){Pagina.mensagem("Poema deletado")})["catch"](function(){Pagina.mensagem("Erro ao deletar poema")});
return c.yield(b.lerDadosDaDatabase(),0)})},lerDadosDaDatabase:function(){var a=this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return a.poemas=[],a.categorias={},c.yield(a.db.collection("usuarios/"+firebase.auth().currentUser.uid+"/poemas").get(),2);if(3!=c.nextAddress)return b=c.yieldResult.docs,b.map(function(b){b={titulo:b.data().titulo,linhas:b.data().linhas,cor:b.data().cor,categoriaId:b.data().categoriaId,id:b.id};b=removerUndefinedDoObjeto(b);a.poemas.push(b)}),
c.yield(a.db.collection("usuarios/"+firebase.auth().currentUser.uid+"/categorias").get(),3);b=c.yieldResult.docs;b.map(function(b){a.categorias[b.id]=b.data().nome});c.jumpToEnd()})},criarCategoria:function(a,b){var c=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){a?(Pagina.mensagem("Alterando Categoria"),c.db.collection("usuarios/"+firebase.auth().currentUser.uid+"/categorias").doc(a).set({nome:b}).then(function(){Pagina.mensagem("Categoria Alterada")})["catch"](function(){Pagina.mensagem("Erro Ao Alterar Categoria")})):
(Pagina.mensagem("Criando Categoria"),c.db.collection("usuarios/"+firebase.auth().currentUser.uid+"/categorias").add({nome:b}).then(function(){Pagina.mensagem("Categoria Criada")})["catch"](function(){Pagina.mensagem("Erro Ao Criar Categoria")}));return e.yield(c.lerDadosDaDatabase(),0)})},deletarCategoria:function(a){var b=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){Pagina.mensagem("Deletando Categoria");b.db.doc("usuarios/"+firebase.auth().currentUser.uid+"/categorias/"+
a)["delete"]().then(function(){Pagina.mensagem("Categoria Deletada")})["catch"](function(){Pagina.mensagem("Erro Ao Deletar Categoria")});return c.yield(b.lerDadosDaDatabase(),0)})}};function removerUndefinedDoObjeto(a){for(var b=Object.keys(a),c=0;c<b.length;c++)void 0==a[b[c]]&&(a[b[c]]=null);return a};"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:""}).then(function(a){firebase.messaging().useServiceWorker(a)});$(document).ready(function(){Pagina.iniciar();trace=firebase.performance().trace("App Data");trace.incrementMetric("App Version",5)});var Telas={atual:"#Tela_Carregando",trocar:function(a,b){a||(a=this.atual);this.atual=b;Pagina.elementos.animateCSS(b,"fadeInUp");$(a).css("display","none");$(b).css("display","block");"#Tela_Busca"==a?($("#Tela_Busca .sem-poemas").hide(),$("#resultados-de-busca")[0].innerHTML='<div id="apresentacao" class="'+Pagina.configura\u00e7\u00f5es.modoEscuro.corDeTexto+'-text container center-align"><i class="material-icons large">search</i><h4>Fa\u00e7a uma busca</h4></div>',$("#pesquisar-tela .material-icons")[0].innerHTML=
"search",$("#pesquisar-tela").attr("onclick","Telas.trocar(null,'#Tela_Busca')")):"#Tela_Categorias"==a&&($(".sidenav-trigger").show(),$(".voltarButton").hide());"#Tela_Busca"==b?($("#pesquisar-tela .material-icons")[0].innerHTML="close",$("#pesquisar-tela").attr("onclick","Telas.trocar(null,'#Tela_Painel')")):"#Tela_Categorias"==b&&this.telaDeCategorias.exibirLista();$(".sidenav")[0].M_Sidenav.isOpen&&$(".sidenav").sidenav("close")},"lerConfigura\u00e7\u00f5esDeLayoutDoUsuario":function(){var a=
this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return a.tamanhoDosElementos="s12 m6",a.displayDoTexto="",c.yield(GerenciadorDePoemas.db.doc("usuarios/"+firebase.auth().currentUser.uid).get(),2);b=c.yieldResult;b.exists?(b.data().tamanhoDosElementos&&(a.tamanhoDosElementos=b.data().tamanhoDosElementos),b.data().displayDoTexto&&(a.displayDoTexto=b.data().displayDoTexto)):a.salvarConfigura\u00e7\u00f5esDeLayoutDoUsuario();c.jumpToEnd()})},"salvarConfigura\u00e7\u00f5esDeLayoutDoUsuario":function(){firebase.firestore().doc("usuarios/"+
firebase.auth().currentUser.uid).update({tamanhoDosElementos:this.tamanhoDosElementos,displayDoTexto:this.displayDoTexto})},atualizarLista:function(a,b){var c=b;"lista-de-poemas"==a&&(c=GerenciadorDePoemas.poemas);var e="";c.map(function(a){var b=2<=a.linhas.length?a.linhas[0]+"<br>"+a.linhas[1]:a.linhas[0],c="white";"white"!=a.cor&&"yellow"!=a.cor&&"amber"!=a.cor&&a.cor||(c="black");a.cor||(a.cor="white");e+='<div class="poema-card col '+Telas.tamanhoDosElementos+'"><div class="card '+a.cor+" "+
c+'-text"><div class="card-content waves-effect w-100" onclick="Modals.modalVisualizarPoema.abrir(\''+a.id+'\')"><span class="card-title">'+a.titulo+'</span><p class="'+Telas.displayDoTexto+'">'+b+'</p></div><div class="card-action right-align '+Telas.displayDoTexto+'"><a class="btn btn-flat btn-floating '+a.cor+" "+c+'-text waves-effect circle left" onclick="Modals.modaldeletarPoema.abrir(\''+a.id+'\')"><i class="material-icons '+c+'-text">delete</i></a><a class="btn btn-flat '+a.cor+" "+c+'-text waves-effect" onclick="Modals.modalVisualizarPoema.abrir(\''+
a.id+"')\">Abrir</a></div></div></div>"});c=$("#"+a)[0].parentNode;c=$(c).find(".sem-poemas");""!=e?c.hide():c.show();Pagina.elementos.animateCSS("#"+a,"fadeInUp");$("#"+a).css("display","block");$("#"+a)[0].innerHTML=e},atualizarTelas:function(){"#Tela_Carregando"!=this.atual&&(this.atualizarLista("lista-de-poemas"),this.telaDePesquisa.pesquisar(),"#Tela_Categorias"==this.atual&&(null==this.telaDeCategorias.atualCategoriaId?this.telaDeCategorias.exibirLista():this.telaDeCategorias.exibirCategoria(this.telaDeCategorias.atualCategoriaId)))},
telaDePesquisa:{pesquisar:function(){var a=$("#pesquisar").val();""!=a&&"#Tela_Busca"==Telas.atual&&(a=GerenciadorDePoemas.pesquisarPoema(a),Telas.atualizarLista("resultados-de-busca",a))}},telaDeCategorias:{exibirLista:function(){var a="black-text";Pagina.configura\u00e7\u00f5es.modoEscuro.ativado&&(a="grey darken-4 white-text");$(".sidenav-trigger").show();$(".voltarButton").hide();this.atualCategoriaId=null;$("#lista-de-poemas-categoria").hide();Pagina.elementos.animateCSS("#lista-de-categorias",
"fadeIn");$("#lista-de-categorias").show();$("#Tela_Categorias .sem-poemas").hide();$("#Tela_Categorias .sem-categorias").hide();var b='<ul class="collection with-header"><li class="collection-header '+a+'"><h5 class="valign-wrapper"><span class="material-icons">format_list_bulleted</span>&emsp;Categorias</h5></li>',c=Object.keys(GerenciadorDePoemas.categorias);b+=c.map(function(b){return'<li class="collection-item waves-effect w-100 '+a+' row remove-1">  <div onclick="Telas.telaDeCategorias.exibirCategoria(\''+
b+'\')"  class="valign-wrapper col s8 remove-2"> <span class="tiny material-icons">brightness_1</span> &emsp;'+GerenciadorDePoemas.categorias[b]+'</div><div class=" col s4 right-align"><a class="'+a+'" onclick="Modals.modalsDeCategoria.modalCriar.abrir(\''+b+'\')" ><i class="material-icons">edit</i></a>&emsp;<a class="'+a+'" onclick="Telas.telaDeCategorias.deletarCategoria(\''+b+'\')" ><i class="material-icons">delete</i></a></div></li>'}).join("");b+="</ul>";$("#lista-de-categorias")[0].innerHTML=
b},exibirCategoria:function(a){$(".voltarButton").show();$(".sidenav-trigger").hide();this.atualCategoriaId=a;a=GerenciadorDePoemas.pesquisarPoema(a,["categoriaId"]);$("#lista-de-categorias").hide();Pagina.elementos.animateCSS("#lista-de-poemas-categoria","fadeIn");$("#lista-de-poemas-categoria").show();Telas.atualizarLista("lista-de-poemas-categoria",a)},deletarCategoria:function(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return Pagina.mensagem("Deletando Categoria"),
Pagina.mensagem("Deletar uma categoria n\u00e3o deleta poemas!"),b=GerenciadorDePoemas.pesquisarPoema(a,["categoriaId"]),b.map(function(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.yield(GerenciadorDePoemas.salvarPoema(a.id,a.titulo,a.linhas,a.cor,null,!0),0)})}),c.yield(GerenciadorDePoemas.deletarCategoria(a),2);Pagina.mensagem("Categoria Deletada");Telas.atualizarTelas();c.jumpToEnd()})}}};